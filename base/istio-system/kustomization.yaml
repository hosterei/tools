apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
# istio-system namespace
- ./mainifests/istio-system-ns.yaml

# istio-gateway namespace
- ./mainifests/istio-ingress-ns.yaml

# istio ingress class
- ./mainifests/ingress-class.yaml
      
helmCharts:
- name: base
  repo: https://istio-release.storage.googleapis.com/charts
  version: "1.14.3"
  includeCRDs: true
  releaseName: istio-base
  namespace: istio-system
- name: istiod
  repo: https://istio-release.storage.googleapis.com/charts
  version: "1.14.3"
  releaseName: istio-istiod
  namespace: istio-system
- name: ingressgateway
  repo: https://istio-release.storage.googleapis.com/charts
  version: "1.14.4"
  releaseName: istio-gateway
  namespace: istio-ingress
      
